(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3bf88023"],{"0e4b":function(e,t,n){},2205:function(e,t,n){"use strict";var a=n("0e4b"),s=n.n(a);s.a},7748:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("这里有个按钮权限够的才看得到\n  "),n("a-button",{directives:[{name:"isAuth",rawName:"v-isAuth",value:"sys:menu:save",expression:"'sys:menu:save'"}],attrs:{type:"primary"}},[e._v("有保存权限")]),n("v-crud-table",{attrs:{sourceColumns:e.sourceColumns,asyncCols:e.asyncCols,dataSource:e.data,totalCount:e.totalCount,loading:e.loading,asyncRow:e.asyncRow},on:{"handle-submit":e.handleSubmit,"handle-info":e.handleRetrieve,"handle-page":e.handlePage,"handle-add":e.handleAdd,"handle-edit":e.handleEdit}})],1)},s=[],i=(n("96cf"),n("1da1")),r=(n("cadf"),n("551c"),n("097d"),{data:function(){return{data:[],loading:!1,query:{page:1,limit:10},totalCount:0,asyncRow:{},asyncCols:[],roleSelect:[]}},watch:{query:{handler:function(){this.getData()},deep:!0}},computed:{sourceColumns:function(){return[{title:"用户id",dataIndex:"userId",key:"userId",formOptions:{el:"input",disabled:!0,visible:{add:!1}}},{title:"账号",dataIndex:"username",key:"username",formOptions:{el:"input",disabled:{edit:!0},rules:[{required:!0,message:"Please input username!"}]}},{title:"密码",dataIndex:"password",key:"password",hidden:!0,formOptions:{el:"input",visible:{edit:!1},rules:[{required:!0,message:"Please input username!"}]}},{title:"中文名",dataIndex:"chineseName",key:"chineseName",formOptions:{el:"input",rules:[{required:!0,message:"Please input username!"}]}},{title:"邮箱",dataIndex:"email",key:"email",formOptions:{el:"input",rules:[{required:!0,message:"Please input username!"}]}},{title:"手机号",dataIndex:"mobile",key:"mobile",formOptions:{el:"input",rules:[{required:!0,type:"string",message:"Please input mobile!",len:11,pattern:/^[0-9]*$/}]}},{title:"角色",dataIndex:"roleIdList",key:"roleIdList",formOptions:{el:"checkbox",options:[]}},{title:"状态",dataIndex:"status",key:"status",formOptions:{el:"radio",options:[{label:"开",value:1},{label:"关",value:0}],disabled:{edit:!0}}}]}},created:function(){this.getData()},methods:{getData:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,this.$api.USER_LIST(this.query);case 3:t=e.sent,this.loading=!1,0===t.code&&(this.data=t.page.list,this.totalCount=t.page.totalCount);case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),save:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$api.USER_SAVE(t);case 2:n=e.sent,0===n.code&&(alert("成功"),this.getData());case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),update:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$api.USER_UPDATE(t);case 2:n=e.sent,0===n.code&&(alert("更新成功"),this.getData());case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),handleSubmit:function(e,t){alert(JSON.stringify(e))},handleRetrieve:function(){},handleAdd:function(){var e=this;this.$store.dispatch("role/getRoleSelect").then(function(){e.asyncCols=[{dataIndex:"roleIdList",formOptions:{options:e.$store.state.role.roleSelect}}],setTimeout(function(){e.asyncRow={status:1,roleIdList:[]}},2e3)})},handleEdit:function(e,t){var n=this;this.$store.dispatch("role/getRoleSelect").then(function(){n.asyncCols=[{dataIndex:"roleIdList",formOptions:{options:n.$store.state.role.roleSelect}}],n.$api.USER_INFO({userId:t.userId}).then(function(e){n.asyncRow={roleIdList:e.user.roleIdList}})})},handlePage:function(e,t){this.query.page=e,this.query.limit=t}}}),o=r,u=(n("2205"),n("2877")),l=Object(u["a"])(o,a,s,!1,null,"6f743112",null);l.options.__file="user-list.vue";t["default"]=l.exports}}]);