(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-36ac59e1"],{"49d9":function(e,t,n){"use strict";var a=n("f0d0");n.n(a).a},7748:function(e,t,n){"use strict";n.r(t),n("96cf");var a,s,i,r=n("1da1"),o=[{title:"用户id",dataIndex:"userId",key:"userId",formOptions:{el:"input",disabled:!0,visible:{add:!1}}},{title:"账号",dataIndex:"username",key:"username",formOptions:{el:"input",disabled:{edit:!0},rules:[{required:!0,message:"Please input username!"}],placeholder:"请输入"}},{title:"密码",dataIndex:"password",key:"password",hidden:!0,formOptions:{el:"input",visible:{edit:!1},rules:[{required:!0,message:"Please input username!"}]}},{title:"中文名",dataIndex:"chineseName",key:"chineseName",formOptions:{el:"input",rules:[{required:!0,message:"Please input username!"}]}},{title:"邮箱",dataIndex:"email",key:"email",formOptions:{el:"input",rules:[{required:!0,message:"Please input username!"}]}},{title:"手机号",dataIndex:"mobile",key:"mobile",formOptions:{el:"input",rules:[{required:!0,type:"string",message:"Please input mobile!",len:11,pattern:/^[0-9]*$/}]}},{title:"角色",dataIndex:"roleIdList",key:"roleIdList",formOptions:{el:"checkbox",options:[]}},{title:"状态",dataIndex:"status",key:"status",formOptions:{el:"radio",options:[{label:"开",value:1},{label:"关",value:0}],disabled:{edit:!0}}}],u={data:function(){return{sourceColumns:o,data:[],loading:!1,query:{page:1,limit:10},formVisible:!1,totalCount:0,asyncRow:{},asyncCols:[],roleSelect:[]}},watch:{query:{handler:function(){this.getData()},deep:!0}},created:function(){this.getData()},methods:{getData:(i=Object(r.a)(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,this.$api.USER_LIST(this.query);case 3:t=e.sent,this.loading=!1,0===t.code&&(this.data=t.page.list,this.totalCount=t.page.totalCount);case 6:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)}),save:(s=Object(r.a)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$api.USER_SAVE(t);case 2:0===e.sent.code&&(alert("成功"),this.getData());case 4:case"end":return e.stop()}},e,this)})),function(e){return s.apply(this,arguments)}),update:(a=Object(r.a)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$api.USER_UPDATE(t);case 2:0===e.sent.code&&(alert("更新成功"),this.getData());case 4:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)}),handleSubmit:function(e,t){alert(JSON.stringify(e))},edit:function(e,t,n){var a=this;this.$store.dispatch("role/getRoleSelect").then(function(){a.asyncCols=[{dataIndex:"roleIdList",formOptions:{options:a.$store.state.role.roleSelect}}],a.$api.USER_INFO({userId:t.userId}).then(function(e){a.asyncRow={roleIdList:e.user.roleIdList}})})},add:function(){var e=this;this.$store.dispatch("role/getRoleSelect").then(function(){e.asyncCols=[{dataIndex:"roleIdList",formOptions:{options:e.$store.state.role.roleSelect}}],e.asyncRow={status:1,roleIdList:[]}})},del:function(e,t,n){},info:function(e,t,n){},handlePage:function(e,t){this.query.page=e,this.query.limit=t}}},l=(n("49d9"),n("2877")),d=Object(l.a)(u,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-button",{directives:[{name:"isAuth",rawName:"v-isAuth",value:"sys:menu:save",expression:"'sys:menu:save'"}],attrs:{type:"primary"}},[e._v("有保存权限才看得见我")]),n("v-crud",{attrs:{sourceColumns:e.sourceColumns,dataSource:e.data,asyncCols:e.asyncCols,asyncRow:e.asyncRow,totalCount:e.totalCount,loading:e.loading},on:{"handle-edit":e.edit,"handle-add":e.add,"handle-page":e.handlePage}})],1)},[],!1,null,"5aa88ff7",null);d.options.__file="user-list.vue",t.default=d.exports},f0d0:function(e,t,n){}}]);